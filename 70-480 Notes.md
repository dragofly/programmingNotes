# 70-480 Notes

## HTML (Hypertext Markup Language)
* Document in a certain format meant to be processed by a client application (browser)

### Components:

    - <doctype> - defines the version of HTML that is used for rendering the document
        - Common ones HTML 4.01 and XHTML 1.0.
        - Strict means not to use deprecated elements
    - <html> - root element
    - <lang> - defines the language of the page
    - <head> - metadata of the page, search engine information, scripts, stylesheets
    - <title> - title of the tab/page (used by search engine)
    - <meta> - metadata about the page like keywords (for SE)
        - <meta name=”Keywords” content=”test, example” />
        - <meta charset=”UTF-8”>
    - <script> - for inline JS or link to JS file
        - <script type=”text/javascript”> JS code </script>
        - type is optional, “text/javascript” is default for inline
        - <script src=”jquery-3.2.1.min.js”> <script>
        - Types:
            - <b>Internal</b>: defined in <head>
            - <b>External</b>: references external file in <head>
            - <b>Inline</b>: defined in body
    - <style> - for inline CSS or link to CSS file
        - <style type=”text/css/> CSS code </style>
        - type is optional, “text/css” is the default
        - <link rel="stylesheet" href="/html/styles.css">
    - <link> - for related documents/files
        - <link ref=”stylesheet” type=”text/css” href=”myCss.css”>
    - <base> - for base url of the page (used by relative links on the page)
        - <base href=”http://mypage.com”>
        - All links in the head and body will use this href as the base url for the link so the page (for the link it will look for the file in http://mypage.com/myCss.css)
    - <body> - component that is rendered to the user
        - Block elements - renders in new line
        - <h1> - heading element for semantic structure of the document
        - h1-h6
        - Not for styling the text
        - <b>Only one</b> h1 in <div> or other grouping tag
    - <div> - grouping component for styling reasons or logical
    - <p> - paragraph
    - <code> <samp> - code block
    - <blockquote cite=”url”> - quote paragraph
    - Lists: 
        - use css list-style-type for bullets styling
        - types:
            - <ul> - unordered list, uses <li>
            - <ol> - ordered list, uses <li>
            - <dl> - definition list
                - <dt> - definition term
                - <dd> - definition definition
    - <table>
        - components:
            - <caption> - renders before the table
            - <thead> - for headers
                - <tr> -> <th>
            - <tfoot> - <tr> -> <td>
            - <tbody> - is last because it can have large data with paging
            - <tr> - table row
            - <td> - table data (a column)
                - rowspan - number of rows to occupy
                - colspan - number of columns to occupy
    - <img>
        - alt attribute is required
        - <img src=”” alt=”My alt description of the image”>
        
    - <object data=”” type=””>
        - It can be nested
        - <param name=”source” value=”./mySilverlightApp.xap”> 
    - <audio>
        - <audio controls src=””>
        - <source /> - fallback sources
        - <object /> - fallback if browser can’t play any of the sources 
    - <figure> - for displaying illustrations, diagrams or code
        - <figurecaption>
    - <details open> - collapsible element, open tag indicates that is open
    - <main> - semantically define main content of page, only one
    - <header> - semantical data about the page
    - <nav> - define navigation component
    - <article> - define a blog post or article, semantically equivalent to <div>
    - <aside> - not main content but additional info
    - <footer> - semantic, data about the page and author
    - <time datetime=”” pubdate>
        - pubdate - date of publish of the page, only one time tag with pubdate
    - Inline elements - renders in same line (no new line)
        - <a> - /anchor
            - Target anchor : <a name=”myTarget”> (used by other links)
            - Source anchor: <a href=””> (has a link to another page)
            - Relative link: <a href=”./MyFolder/MyPage2.html”>
            - relative location to the current document or <base> url
            - Absolute link: <a href=”http://myOtherPage.com/page1.html”>
            - Links to targets: <a href=”.myOtherDocument#myTarget”>
            - a.name or id attribute values can be set as the target
        - <span> 
        - <pre> - preservers formatting (tabs and multiple whitespaces
        - <br /> - new line
        - <hr /> - adds a horizontal line to break up page elements
        - <sub> <sub> - superscript (1.2) subscript (1.2)
        - <cite> - semantic meaning of citation
        - <abbr title=””> <acronym title=””>
            - title attribute with fill meaning that shows on hover
        - <em> - underlying (semantic for emphasis)
        - <strong> - bold (semantic for emphasis)
        - <kbd> <var> - keyboard and variable
        - <q> - quote
        - <mark> - highlights the text in the tag, for highlighting search results


### Attributes

* Components:
    - id - unique id of the element on the page used by CSS and JS
    - class - for styling in CSS and selecting elements in JS
* Characters:
    - &gt; >
    - &lt; <
    - &nbsp - browser will not break the text at this whitespace

## Javascript

* Modernizr - js library that detects features that are supported in the current browser
    - Modernizr.canvas - true if browser supports canvas
* Native DOM selectors
	- querySelectorAll('.myClass')
		- parameter: CSS selector
        - returns: node list, (not a live list)
        - iterate over using a forEach or for loop:
            Array.prototype.forEach.call(divs, function(div) { div.innertText += '1'; });
	- querySelector('.myClass')
		- parameter: css selector
        - returns: first found node item (not live list)	
	- getElementByClassName('myClass')
        - parameter: No ‘.’ because you need to send in a class
        - returns: Live list (it will change value if a new node element is added to the DOM)
	- getElementByID('myID')
        - parameter: No ‘#’ because the parameter is the ID not a CSS selector
		- returns: node element

```javascript
let myOtherItem = document.getElementByClassName('myClass')
let myItem =  document.getElementByID('myID'); (parameter is item ID, no # sign)
let divs = myItem.querySelectorAll('div'); (parameter is css selector, returns node list)
let singleResult = divs.querySelector('#log'); (parameter is css selector, returns single node)
```


### Forms
* Native forms validation
    - `novalidate`
        - attribute is to not validate the form on submit
    - `.checkValidity()`
        - $('#myForm').checkValidity() - validates the form
    - `<input required pattern=”[a-z]” maxlength=”30” />`
    - `<span data-rule=””>`
    - validity state:
	    - `patternMismatch`
	    - `rangeOverflow`
	    - `rangeUnderflow`
	    - `stepMismatch`: not valid step value
	    - `tooLong`
	    - `typeMismatch`: not valid value for that type (alpha value for numeric)
	    - `valueMissing`
	    - `valid`
	    - `customError`
            - invalid is set using setCustomValidity('Invalid')
    - CSS selectors
	    - `:valid`:if the element is in the valid state
	    - `:invalid`: if the element is in the invalid state

* Bootstrap validation
    - `<input data-role=”validate” data-content=”My error message” />`
    - `data-role`: element that needs to be validated
    - `data-content`: error message
    - `<button type=”submit” data-role=”trigger-validation”> Submit </ button>`
    - `data-role=”trigger-validation”`: button will trigger validation to form elements 

* Input Elements
	- `<input type=”” />`
		- Additional types added in HTML5
		- Has native validations 
		- Fallback is textbox
		- value attribute sets the default value
    - autofocus attribute - the cursor is set to that element when the page is loaded
	    - There can be only one on a page
    - types:
        - `search`
        - `list`
            - Example:
            ```html
                <input type=”text” list=”myList” />
                <datalist id=”myList” />
                    <option value=”Value1” />
                    <option value=”Value2” />
                <datalist />
            ```
        - `email`
        - `url`
        - `phone`
        - `datetime`
        - `date`
        - `time`
        - `week`
            - `<input type=”week” value=”2017-W03” />` - the week number in the year
        - `month`
            - `<input type=”month” value=”2017-03” />` - the month in the year
        - `color`
        - `range`
            - `<input type=”range” min=”0” max=”50” step=”1” />`
```javascript
Media
	Attributes
controls
loop
preload - starts the load content as soon as the page is loaded (not waiting for user input)
poster=”url” - image that will be show before the user plays it
	<video>
		<source src=”.mp4/.ogv/.webm” type=”video/mp4” />
		<!-- fallback --!>
	<audio>
<source src=”.mp3/.acc/.ogg/.wav” type=”audio/mp3” />
<!-- fallback --!>
JS api
Let canPlay = video.paused || video.ended;
.pause()
.load() - call if source file is updated
.play()
.currentTime - current time of the video, setting it will update the video to that time
.playbackRate - speed of the video, values => 1
.muded - can be set to value
//events
:play - event fired when the video is played
:timeupdate - event fierd when the time of the video is updated
:ended - event fired when the video finishes
//draw thumbnail
c.drawImage(video, x, y, w, h);
let thumb = new Image();
thumb.src = c.toDataUrl(‘image/png’);
Canvis
	<canvis>
	JS api
		.getContext(‘2d/3d’) - context is used for drawing
		.beginPath() - invoked before actions to draw
		.moveTo(x,y) - moves the drawing cursor to the location
		.lineTo(x, y) - creates a line from current position to location
.closePath()
//filing
.fillStyle - defines the color of the fill (gradients can be used too)	
.fill() - creates a lie from the first point to the current position and fills if with color
		//stroking
	.lineWidth
	.lineJoin - the type of corner you want (‘round‘)
.strokeStyle - color of the stroke
.stroke() - renders the stroke defined (stroke are the lines defined in the path 
//rectangles
.fillRect(x, y, w, h)
.clearRect(x, y, w, h)
.strokeRect(x, y, w, h)
//gradient
.createRadialGradient(xStart, yStart, radiusStart, xEnd, yEnd, radiusEnd)
.createLinearGradient(xStart, yStart, xEnd, yEnd)
.addColorStop(v, color), v = {0,1}
.fillStyle = gradient
//arcs
.arc(x, y, radius, startAngle, endAngle, anticlockwise)
//images
let img = new Image()
img.onload = function() {
	context.drawImage(img, x, y)
};
.scale(w, h)
.rotate(radians) - rotates the canvas
.translate(x, y) - translates the start position to a location
//canvis state
.save() - pushes new state to canvas (can be used multiple times)
.restore() - restores last saved state (can be used multiple times)
//clipping
.clip() - needs to be rendered before image
Define a path before clipping
c.beginPath();
c.rect(x, y, w, h);
c.clip();
You can’t call clip multiple times, you have to .restore() first
Drag and drop
Events
Drag source
:dragstart
:drag - continuously fires on drag source as it is being dragged
:dragend - last event fired when dragging
Drag target
:dragenter - when source enters its boundaries
requires cancellation
:dragover - source is inside boundaries of target
requires cancellation
:dragleave - source leaves boundaries
:drop - when mouse button is released while source is inside boundries of target
Where default cancellation is required
	cancel = function(e) {
		e.preventDefault();
e.stopPropagation();
		return false;
};
Basic events that need to bi handled
	target.addEventListener(‘drag’, dropped, false);
target.addEventListener(‘dragenter’, cancel, false);
target.addEventListener(‘dragover’, cancel, false);
Moving data from drag to drop - ‘text/plain’ for custom data
	Note: ‘text/plain’ must be set for it to work in Firefox
	dragStart = function(e){
		e.dataTransfer.setData(‘text/plain’, e.target.id);
}
dropped = function(e){
	let id = e.dataTransfer.getData(‘text/plain’);
}
Files
	e.dataTransfer.files - files that are dropped (default, no need to set the files prop)
	File properties
type
name
size
lastModifiedDate
Effects
If effects of source and target are incompatible the drop will be disabled
	.dropEffect will be none
(source) e.dataTransfer.effectAllowed (set in :dragStart)
copy
move
link
none 
copyLink
linkMove
all - works with all .dropEffect’s
uninitialized 
(target) e.dataTransfer.dropEffect (set in :dragOver)
Copy
move 
link 
none 

Offline applications
<html manifest=”cacheManifestFile.aspx” > - for a page to be cached it has to have a manifest file
Cache manifest file content
MimeType: text/cache-manifest
Encoding: utf-8
CACHE MANIFEST - must be first line of file
# version 1 - if the cache manifest is not changed then browser doesn’t reload the cached files
That is why we add version info that we change when we want to deploy the new version of the app, we change the cache file and the cached files get updated
CACHE: - list of files that are cached on the browser/client
Jurnal.aspx
scrpts/jquery-1.5.1.min.js
Offline.js
myPicture.png

NETWORK: - urls that are never cached
main/search

FALLBACK: - fallback urls (must be divided by space)
/home /offline-home.aspx
Note: 
if any file request in the CACHE: section returns an error none of the files will be cached
To set request not to be cached set thise tree response headers:
	Cache-Control: no-cache
	Pragma: no-cache
	Expires: -1
Browser caching events
window.applicationCache
:onchecking - check if there are updated to manifest
:ondownloading - downloading new files
:onnoupdate - manifest not changed
:oncached
:onerror
:onupdateready - new files are downloaded and ready to be changed
window.applicationCache.swapCache() - safe to call this method
location.reload() - reloads the page with the new cached files (needs to be fired after .swapCache())
Cache states
0 UNCACHED - cache not initialized
1 IDLE - cache not updating (all files updated)
2 CHECKING - looking for manifest changes
3 DOWNLOADING
4 UPDATEREADY - new files are downloaded
5 OBSOLETE - cached files are expired
Online/off line events
	window.addEventLister(“online/offline”, function() {});
	navigator.onLine - if browser is online
```

### Geolocation: `navigator.geolocation`
####  .getCurrentPosition()
   
```javascript
//Get current position
.getCurrentPosition(success(position), error(e), options?)
    position = { 
        coords : {
            latitude : 1.1
            longitude : 1.1
        },
        timestamp: 0 //when the request returned
    }
    e = { code : 0-3 } 
        // 1 - PERMISSION_DENIED, 
        // 2 - POSITION_UNAVELABLE
        // 3 - TIMEOUT
    options = {
        enableHighAccuracy : true, //try to find out more precise location (may take longer)
        timeout: 10000, // how long to try to get location (default: no limit)
        maximumAge: 1000 // how old the data can be before new position is calculated
    }
```

#### .watchLocation()

```javascript
 // gets location in intervals of options.maximumAge
let g = navigator.geolocation;
let watchID = g.watchLocation(success(), error(), options?);
g.clearWatch(watchID);
```

## Web storage: `window.localStorage/sessionStorage`
* Types:
	Local - bound to website not window
	Session - removed when window is closed
* Capacity: 2 - 10MB
* Security: per session/domain

```javascript
    
	.setItem(’myKey’, ’myValue’);
            // .myKey = ’myValue’;
            // [‘myKey’] = ‘myValue’;
	.getItem(’myKey’); 
            // .myKey; 
            // [‘myKey’];
	.removeItem(‘myKey’);
	.clear() // remove all data
	.length //number of keys added
	.remainingSpace // free space in B left
	:storage(e)
            e : {
                oldValue : 1,
                newValue : 3,
                key : ‘myKey’,
                url: ‘’,
                storageArea: ‘local/session’
            }
	error: 22 (QUOTA_EXCEEDED_ERR) 
```	

## Web workers: 

* Restrictions:
    - No accas to DOM, Window, Host page and jQuery (because it is depended on the Widnow)
    - Accas to: naviagator, timers, XmlHttpRequest

* Types:
    - Dedicated: bound to one window
    - Shared: can be called from multiple widnows

### Using web worker on web page
* `onmessage(f)` // result sent from the worker
* `onerror(f)` // handle error
* `postMessage(params)` // request for processing
```javascript
let worker = new Worker('myWorker.js');
worker.onmessage = function(e) {
    let result = e.data;
    console.log(result.summery);
}; // Workers send result
worker.onerror = function(errE) { console.log(errE.message)};
let params = { param1 : 'test', param: 2 };
worker.postMessage(params); //Sends data to worker
```

### Creating a web worker
* `addEventListener`('message', f(e), true) // listener for worker
* `postMessage`(results) // calls the .onmessage() int the UI thread
```javascript
function myEventHandler(e){
    let params = e.data;
    //do calculations here
    let reulsts = myCalculator(params.param1, params.param2);
    resutls['summery'] = 'Done';
    postMessage(resutls); //calls the onmessage function;
}

addEventListener('message', myEventHandler, true)
```

### Closing worker

* `.terminate()` // Closes the worker emedietly
Is called from the UI thread
```javascript
    let worker = new Worker('myWorker.js');
    worker.terminate();
```
* `.close()` // Waits for the worker to finish processing <br/>
Must be called from the worker not from the UI thread
```javascript
addEventListener('message'), function(e) {
    if(e.data.Command === 'close'){
        this.close();
    }
}
```

## Web sockets
Full duplex communication between server and clinet: boath server and client can send and receive messages at the same time without overhead. <br />
Websockets are using the websocket protocol (`ws`)that requires much less metadata (2B) then the standard httpreques/response (100+B)

### JS implementation
* `.onopen()`
* `.onclose()`
* `.onmessage(e)` // hadle message to server
* `.onerror(e)`
* `.send(params)` // send message to server

```javascript
let webSocket = window.WebSocket || window.MozWebSocket;
let ws = new webSocket('ws://localhost:8181/');
ws.onopen = function() {};
ws.onclose = function() {};
ws.onmessage  = function(e) {
    console.log(e.data);
};
ws.onerror =  = function(e) {};
ws.send('Hi');
```

### Server implementation
Implementation is done using Flek a C# library for handling WebSockets <br />
* `.OnOpen()` // add to sockets list
* `.OnClose()` // remove form socket list
* `.OnMessage()` // handle message form the client
* `.Send()` // send message to the client
```cs
var sockets = new List<IWebSocketConnection>();
var server = new Flek.WebSocketServer("ws://localhost:8181/");
server.Start(socket = () => 
{
    socket.OnOpen = () => 
    {
        sockets.Add(socket);
    };
    socket.OnClose = () =>
    {
        sockets.Remove(socket);
    };
    socket.OnMessage = message => {
        sockets.ToList().ForEach(s => s.send(message));
    };
}
)
```

## Microdata
Standard HTML markup + vocabulary namespace used to anotate pages so that programs can interact with the page. <br />
Rich snippets testing tool can be used to test what data can a machine read from your page.

* `itemscope itemtype`="http://data-vocabulary.org/Object"
    - itemscope : define a HTML container whose child elements contain properties of the described object
    - itemtype : defins the object the child HTML elements have values for
* `itemprop`="objectProp" // from the Person vocabulary
    - added to child element that contains property of the itemtpye object
    -  it will take the `text content` of that element, for specific types it will take scr, href, dateTime.
* `itemid`="MyUniuqeID"
    - scope uniuqe item ID
* `itemref`="row0-cell1 row1-cell1"
    - element IDs that are space separated
    - defines where the child elements are if the are not strucuted as child elements of the HTML object

```html
<div id="myInfo" itemscope itemtype="http://data-vocabulary.org/Person">
<h2 itemprop="name">Juraj Murgic>
    <div id="myAdress" itemscope itemtype="http://data-vocabulary/Adress">
    <span itemprop="region">Zagreb</span>
    </div>
</div>
```

## CSS

* History
    - CSS 1 1996
    - CSS 2 2004
    - CSS 3 In progress
        - Split into modules (smaller components that thefine one functionality)

* CSS structure
    - selector 
    - propertyName : value;
```css
body {
    background-color:#cccc99;
}
```

### Selectors

* Type selector
    - selector for html tag
```css
body { ... }
```
* ID selector
    - selects by html tag id
```css
#myID { ... }
```

* Class selector
    - select all html tags that contain that class
```css
.myClass { ... }
```

* Multiple selectors
    - selectors separated with comma
```css
.myClass, .myOtherClass { ... }
```

* Descendent selectors
    - separated with whitespace
    - searches <b>all descendes</b> of the first object
```css
div p { ... }
/* Will find all p that are under div */
```

* Child selectors
    - separated by `>`
    - searches all <b>direct discendes</b>
```css
div > p { ... }
/* Will find all p that are childern of div */
```

* Adjacent sibling
    - separated by +
    - selects <b>first</b> sibling that has the searched for values
```css
div.myClass + p { ... }
/* Will find FIRST p that is sibling of div.myClass */
```

* General sibling selector
    - selected by ~
    - selects all siblings of the element
```css
div.myClass ~ p { ... }
/* Will find ALL p that is sibling of div.myClass */
```   

* Attrbute sellectors
    - selected by brackets `[]`
        - `none`: has that attribute
        - `=`: attribute maches the whole expression in ""
        - `~=`: contains <b> word </b>
        - `|=`: starts with <b> word</b>
        - `^=`: begins with (not whole word)
        - `$=`: ends with (not whole word)
        - `*=`: contains (not whole word)
    - selects the html tags that have the value of the defined attribute
    - can define multiple attr selectors
```css
div[data-myAttr="myValue"][data-myAttr2="myValue2"] { ... }
/* Will find all div that have the data-myAttr attribute */
```

* Pseudo class attributes
    - seleced using `:`
    - selects the html tags that have a specified pseudo class
    - UI selectors
        - `:enabled`
        - `:disabled`
        - `:checked`
        - `:valid`
        - `:invalid`
        - `:required`
        - `:optional`
        - `:out-of-range`
        - `:in-range`
    - Structural selectors
        - `:root`
        - `:empty`
            - no text or comment
        - `:not(<simpleSelector>)`
            - will add to specificty
        - type
            - `:nth-of-type()`
            - `:nth-last-of-type()`
            - `:first-of-type`
            - `:last-of-type`
            - `:only-of-type`
        - child
            - `:nth-child()`
            - `:nth-last-child()`
            - `:first-child`
            - `:last-child`
            - `:only-child`
        - `:nth-()`
            - `(even)`
            - `(odd)`
            - `(an+b)`
                - `a` and `b` are variables, `n` is the counter
        - `:lang`
        - `:target`: anchor that is currently selected
        - `:link`
        - `:visited`
        - `:hover`
        - `:active`
        - `:focus`
        - elements
            - use with single `:` (becuse IE)
            - `::first-line`
            - `::first-letter`
            - `::selection` - the text that user seleceted with mouse
            - `::before`
            - `::after`
```css
div:visible { ... }
/* Will find all div that are visible to the user */
```

* Star selector
    - selected using `*`
    - selects all html tags
```css
* { ... }
/* Will find all html tags */
```

### Cascading

* Style sources
    - Default stylesheet: least weight 
        - browser defined
    - User stylesheet : more weight
        - default user stylesheet, defined per browser
    - Page stylesheet : moast weight
        - defined by the page authors
    - Last rule defined wins
        - For rules with same selectors
    - Inline rule wins over stylesheet rules
        - rule defined in the html tag using the `style` attribute
    - `!important` wins over other rules
        - can't be overriden

- Specificity
    - Style with the bigger value wins
    - A B C
        - A: count of ID selectors
        - B: count of attribute and class selectors
        - C: count of type selectors
    - weight:
        - 1-0-0 > 0-100-100

```css
*           /* a = 0 b = 0 c = 0 -> 0-0-0 */
li          /* a = 0 b = 0 c = 1 -> 0-0-1 */
li ul       /* a = 0 b = 0 c = 2 -> 0-0-2 */
li.myClass  /* a = 0 b = 1 c = 1 -> 0-1-1 */
#myID       /* a = 1 b = 0 c = 1 -> 1-0-0 */
```          
* Inheritance
    - Child elements inherit properties defined for the parent element unless they have their own rules defined

* Imports
    - use the `@import url(...)`
```css
@import url('myStiles/style2.css');
/* Will find all html tags */
```

### CSS reset
* Stylesheet that resets the user and browsers sytles so they don't apply to your page
    - include the reset.css as the first stylesheet or it will reset all the stylesheets that are imported before it

### Box model

* Components
    - Margin: between border and other boxes 
    - Border
    - Padding: between border and content in the box

* Vertical margins collapse
    - two consecutive li will have margin size that is overlaped
        - if boath li have margin of 5px then the space between them will be 5px not 10px = 5px + 5px

* Width
    - Sum of content, padding, border and margin

* Display
    - block: elements sit on top of each other
    - inline: elements are one next to each other, when they run out of space they move to next line
    - none: will not apear on the page or take up any space
        - visability: the item will not appear but will take up space on the page

### Fonts

* Font families
    - Serif - ends of lines have line
    - Sans-serif - no serifs
    - Cursive - like hand written letters
    - Fantasy - anythinkg goas
    - Monospace - all letters are same length (good for code)

```css
/* With fallbak fonts*/
body { font-family: Arial, Helvetica, san-serif; }
```

* Sizing
    - `px`: absolute styling
    - `em`: relative styling to a defined baseline

* Text properties
    - `text-indent`: how much the first element will be indented
    - `letter-spacing`: space between letters
    - `word-spacing`: space between words
    - `text-decoration`: line-through, etc.
    - `text-align`: position on the page

### Position

* Types:
    - `static`: elements are set one after the other (default)
    - `relative`: element is positon relative to its static position
        - cange the `top` and `left` props to move the element (can use negative values to go up and left)
    - `absolute`: element is position absoulte in regards to the <b>page</b>
    - `fixed`: element is position absoulte in regards to the <b>window</b> (element stays on the window if we scroll)

* Floating
    - `float`: move content to left/right of the page
        - can be used for two clomun layout
    - `clear`: clears the float of the so next element will have the default float

### Generate content

* Content that can be added using css. Can be styled.
* Restrictions:
    - Must have the `content:`
    - Can't be selected by the user
    - Not part of the DOM (not new nodes)
* Accepted values
    - empty: `` 
    - text: " .pdf " 
    - unicode: "\2603"
    - attributes: `attr(href)`
    - image: `url(/myImage.png)`
    - counters: "counter(myCounter)"
        - counter-increment: myCounter
        - counter-reset: myCounter
```css
p:before { content: "BeforeContent"; }
p:after { content: "AferContent"; }

/* Adding content in the node */
<p> BeforeContent OriginalContent AfterContent </p>
```

### Media queries

* Target media with specific capabilities
* Values (min/max):
    - `-width`
    - `-heigth`
    - `-device-width`
    - `-device-height`
    - `orientation: potrait/landscape`
    - `-aspect-ratio`
    - `-device-aspect-ratio`
* Punctuation
    - `only`
    - `and`
    - `not`
    - `,`: or

```css
@media screen {
    p { ... }
}
```

* supports
    - does the browser support specific functionality

```css
@supports (display: table-cell) {
    p { ... }
}
```  

### Colors

* Ways to define color:
    - `white` - name of color
    - `#fff`
    - `#FFFFFF`
    - `rgb(255, 255, 255)` - can be in %
    - `rgba(255, 255, 255, 0.5)` - can be in %
    - `hsl(0, 100%, 100%)`
    - `hsla(0, 100%, 100%, 0.5)`
    - `transperent`
    - `currentColor` - color of the text

```css
div {
color: hsl(0, 100%, 100%, 0.5);
}
``` 

* Opacity
    - makes less visible
    - recomendation to use alpha transparacy for styling and opacity for hiding

```css
div {
opacity: 0.25;
}
```    

### @font-face
* Used to inport a custom font
    - font types:
        - .eot: IE onyl supports this
        - .ttf/.otf
        - .svg
        - .woff
    - `font-family: 'myFont'` - name of the imported font
    - you can inport subset of fonts (onyl for characters you are using)
    - use services for fonts (they are expensive if you buy them)
    - sparate font for bold, italic and normal

```css
/*Import of font*/
@font-face {
    font-family: 'myFontName',
    src: url('my.eot') [, url('my.woff')]
    [font-weight: bold | normal;]
    [font-style: italic | normal;]
    [charset: characterSet;] /*Character for which to use the font*/
}

/*Using imported font*/
div {
    font-family: 'myFontName', arial, san-serif;
}
``` 

* `text-shadow`
    -props: left top blur color

```css
div {
    text-shadow: 1px 2px 3px rgba(0, 0, 0, 0.2);
}
```

* `box-shadow`
    - props: inset? h v blur spred color
        - inset: the box shadow is inside the border

```css
div {
    box-shadow: inset 1px 2px 3px 4px rgba(0, 0, 0, 0.2);
}
```

### Borders and background

* `background-color`

* `background-image`
    - options:
        - `url('path')`
            - can include multiple images
            - `url(data:(base64ImageData))`
        - `linear-gradient(top, startColor, endColor)`
        - `radial-gradient(circle, startColor, endColor)`
        - `element('#elementID')`
        - `image('sprite.jpg#32,64,16,16')`
        - `image('try1.svg', 'try2.png', 'try3.gif')`

* `background-repeat`

* `background-attachment`
    - options: fixed | local | scroll (def)
        - `fixed`: fixed to the parent
        - `local`: not moving when scrolling
        - `scroll`: moving when scrolling

* `background-position`
    - options: [left] [right] [top] [bottom]
    - all are optional
    - in `px` or `%`

```css
div {
    background-position: top 50px bottom 25%;
}
```

* `background-clip`
    - painting area of the background
    - options: border-box (def) | padding-box | content-box
        - border-box: will show over border and padding
        - padding-box: will show over only padding not the border
        - content-box: will not show over padding or border

* `background-origin`
    - position of the background image
    - options: border-box | padding-box (def) | content-box

* `background-size`
    - how to fit the background image
    - options auto | contain | cover | explicit (100px 200px)
        - auto - show the orginial image
        - contain - resize the image to fit on the screen
        - cover - fill the whole screen with the image
        - explicit - the size of the image

* `border-syle`
    - required
    - options:
        - none
        - hidden
            - works like none, space for the border will not show on the page so the element will move when border-style changes
        - dotted
        - dashed
        - solid
        - double
        - groove
        - ridge
        - inset
        - outset

* `border-width`
    - options: (length) | thin | medium | thick | inherit {1,4}

* `border-radius`
    - options: px | %

* `border-image`
    - image that is used for the border
    - properties:
        - source: none | url() | image
        - slice
        - width
        - repeat: streatch | repeat | round {1,2}

### Gradients

* Display smooth transitions between two or more colors

* `linear-gradient`
    - params: (direction, color-stop1, color-stop2, ...)
        - direction:
            - single position: top
            - multiple positions: top left
            - left | top | bottom | right
            - angle: 90deg
        - color-stop
            - word: red
            - rgba
    - `repeating-lienar-gradient`
        - repeting with %
```css
background: linear-gradient(to right, rgba(255,0,0,0), rgba(255,0,0,1));
background: repeating-linear-gradient(red, yellow 10%, green 20%);
```

* `radial-gradient`
    - params: (shape size at position, start-color, ..., last-color)
        - shape: circle | elipse (default)
        - size: 
            - closest-side
            - farthest-side
            - closest-corner
            - farthest-corner (default)
    - `repeating-radial-gradient`
        - repeting with %

### Transforming

* `transform`:
    - values:
        - translate
        - rotate
        - scale
        - skew
        - matrix
    - valid for x, y and z axes
    - multiple transformations need to be in the same line

```css
div {
    transform: rotate(20deg) translate(50px) scale(1.5);
}
```

* `transform-origin`
    - values: top | right | bottom | left
    - point aroung which it trasforms

### Transitions and animations

* Transitions
    - `transtition-property`: what props to transform
    - `transtition-duration`: duration of transformation
    - `transtition-timing-function`
        - how to start animation
        - values: ease | ease-in | steps(x, start|end)
    - `transtition-delay`: how long to delay starting the transformation
    - limitations:
        - single iteration
        - reverse goes to initial state 
        - can't force it to finish
        - limited methods of initiation
        - granular control

* Animations
    - `@keyframes`
        - time defined in %
        - property value at that time
        - don't quote '' the anmimation name
    - `animation-name`
        - name of the `@keyframes` element
        - required
    - `animation-duration`
        - for how long to animate
        - required
    - `animation-timing-function`
        - how to start animation
        - values: ease | ease-in | steps(x, start|end)
    - `animation-iteration-count`
        - how many times to loop throu the animation
        - values: <int> | infinite
    - `animation-delay`
        - how long to delay the start of the animation
        - do not use to delay starting of animation on page load use a class that you add to `<body>` on page load
    - `animation-direction`
        - direction of the animation
        - vaues: normal (def) | alternate
            - alternate: will go backwards
    - `animation-fill-mode`
        - what to do when animation ends
        - values: none (def) | forwards | backwards | both
            - none: when animation ends stay at the 100% keyframne
            - backwards: before animation starts set it to 0% keyframe
            - boath: backwards + none
    - `animation-play-state`
        - what to do on pause
        - values: paused | running (def)
    - events:
        - `:animationstart`
        - `:animationend`
        - `:animationiteration`
    - `animation` (shorthand)
        - params: keyframneName duration timing-function delay iteration-count
```css
@keyframes myAnimation {
    0% {
        left: 0%;
        top: 0%;
    }

    50% {
        left: 50%;
        top: 50%;
    }

    100% {
        left: 100%;
        top: 100%;
    }
}

div {
    width: 100px;
    height: 100px;
    background-color: red;
    animation-name: myAnimation;
    animation-duration: 5s;
    animation-iteration-count: infinite;
}
```

### Additional CSS features

* `box-sizing`
    - change the box-model
    - values: content-box | border-box (default)
        - content-box: size of the element is not width + margin + border + padding it is <b>only width</b>

* `flex-box`
    - `display`: flex-box | inline-flex
    - `flex`: size of the item
    - `order`: position of that item
    - `flex-direction`: direction of the flow of flex
        - values: row | row-reverse | column | column-reverse
    - `flex-wrap`: where to put elements that don't fit in the first row/column
        - values: nowrap | wrap | wrap-reverse
            - wrap: add to multiple lines from top to bottom

* `text-overflow: ellipsis`
    - adds the '...' at the end of the text

```css
p {
    text-overflow: elipsis;
    white-space: nowrap;
    overflow: hidden; /* Add this or the text will show in next line*/
}
```

* `word-wrap: break-word`
    - brakes the word when it is too big

* `rem`
    - relative 'em' units

## JavaScript

### History

* developed by Branden Eich
* standadized to ECMAScript
* got a populariy boost when Ajax and Web 2.0 started
* today it beeing used to code server (node and commonJS) and clinet side

### Components

* Comments
    - `//` - single line
    - `/**/` - multilne

* Variables
    - `var`: used to to define a local variable
        - if a variable without a `var` is defined then it has a global scope (try not to use variables with global scope)
    - `let`: used to define a variable in the code block
        - variable will not be visible outside of the code block

* Equality
    - `===`: compares types of the objecta as well as values
    - `==`: compares only the valuse of objects (can return non intuitive values)

* Functions
    - immedietly invoked functions
        - wraped in `()` and called by using a nother set of `()`
        - used for using plugins so we don't polute the global scope

        ```javascript
        (
        function(x){
            return x * x;
        }
        )(param);

        //jquery example
        (function($){
            //usage of the $
        })(juqery);
        ```

    - functions <b>can't be overloaded </b>
        - JS will use the last function definition if finds

    - function parameters
        - primitive objects are passed by value
        - objects are passed by refernce
        - `arguments`
            - object that contains all parameters passed to the function (can be used as an array but is not an array)

            ```javascript
                var add = function(){
                    console.log(arguments.length);
                    for(let i = 0; i < arguments.length; i++){
                        console.log(arguments[i]);
                    }
                }
            ```
    
    - closure
        - function has access to variables that were in the scope when the function was declared

        ```javascript
        var mySelector = '.myClass';
        $.get('ajax/test', function(data){
            $'(mySelector).html(data);
        })
        ```

* flow
    - `if`
    - `case`
    - `for`
    - `for in`
        - iterate over object properties
        ```javascript
        var myObject = {
            prop1: "myProp11",
            prop2: "myProp2"
        };
        for(var prop in myObject){
            console.log(myObject[prop]);
        }
        ```
    - `while`
    - `do while`
        - will run at least once

* exceptions
    - `throw`: throws the object as an error
        - goes up the call stack until it reaches the try-catch block or the end of the call stack
    - `try catch`: catches the error if it was throwsn inside the try-catch block
    - `finally`: will always be called
    ```javascript
        try{
            throw {
                name: 'My exception',
                message: 'Error is here!'
            }

        }catch(e){
            //handle error
            console.log(e.message);
        }finally{
            //will be invoked
        }
    ```

* built in libraries
    - string
        - two literal notations
            - `''`
            - `""`
        - `\n`: new line
        - `\`: to escape ' or "
        - `\u[code]`: unicode char
        - `.replace(regEx/oldChar, newValueChar)`: will replace only the first occurance found
            - if you add `g` (global) it will replace all occurances
    - number
        - float point number
        - operations: +, -, *, /, %
        - `.toFixed(num)`: to fixed number of decimal places
        - has na offset when working with decimals
            - use whole numbers when computing and then convert to value with decimal places so you don't have offset
    - array
        - notation: `[1, "a", /c/, {}]`
        - `.splice(start, count)`
            - removes and returns the `count` elementst starting at `start` index
    - regular expressions
        - notation: `/a/`
            -`\w, \d`: character class 
                - maches a set of chars like all letters or numbers
            - `[]`: set of chars 
            - `.`: any char
            - `{}`: number of occurances
            - `*`: any number of occurances
            - `()`: capturing group
                - way to select the substring
            - `\`: escape for special chars
        - functions:
            - `"".search(regEx)`
                - returns the found value
            - `regEx.exec("")`
                - returns the results in an array
            - `regEx.test("")`
                - bool if string maches the pattern
            - `"".replace(regEx, function(match, captureGroup1, captureGroupN))`
                - invokes the function for each caputure group
    - date
        - no literal notation
            - `new Date()`
        - months are 0 based
        - operations: +, -
    - JSON
        - `JSON.parse("")`: parses JSON string to object
        - `JSON.stringify(obj)`: converts a object to JSON string
    - `isNaN(obj)`
        - validate if object is number of math opeartion is valid
    - `parseFloat("")`
        - converts string to number
    - Math
        - `Math.random(num)`
            - random number between 0-1
        - `Math.round(num)`
            - rounds to nearest int

### node

* `exports`
    - used to export components of the js file that you want to be public

* `require`
    - inport other js objects that you want to use
        - files: add path to that file from the current dir
        - other instlled modules: name of the module
            -`let express = require("express");`

```javascript
//myImport.js--------------------------------------------
let gradeBook = {
    _grades: [],
    addGrade: function(grade) {
        this._grades.push(grade);
    },
    getGradeCount: function() {
        return this._grades.length;
    }
}

exports.gradeBook = gradeBook;

//myProgram.js-----------------------------------------
let gradeBook = require('../lib/gradeBook').gradeBook;
gradeBook.addGrade(3);
gradeBook.addGrade(2);
gradeBook.addGrade(4);
console.log(gradeBook.getGradeCount());
```

### Testing

* install `nodeunit` for testing features
* use `exports` to define tests
* use `test` to write assertions
    - use `test.done()` to end test
* define a `exports["setUp"]` to reset the objects you are testing because you don't get a new object for each test

```javascript
//myImport.js--------------------------------------------
let gradeBook = {
    _grades: [],
    addGrade: function(grade) {
        this._grades.push(grade);
    },
    getGradeCount: function() {
        return this._grades.length;
    }
}

exports.gradeBook = gradeBook;

//myTest.js-----------------------------------------
let gradeBook = require('../lib/gradeBook').gradeBook;

//so that test don't influence each other
exports["setUp"] = function(test) {
    gradeBook.reset();
}

exports["My frist test"] = function(test) {
    gradeBook.addGrade(3);
    test.equal(gradeBook.getGradeCount(), 1);
    test.done();
}
```

### express

* functions:
    - `.get(url, func)`
        - the url that needs to be called so that the func is called
        - `func(req, res)`
            - `req`: request object that has the query string
            - `res`: response object that can be used to send responses
    - `.listen(port)`
        - define the port that the server will listen on

```javascript
var gradeBook = require("./nodeUntitTests/lib/gradeBook.js").gradeBook;
var express = require("express");
var app = express();

app.get("/", function(req, res) {
    res.send("Hi user, wellcome");
});

// url:/grade?grades=1,2,3,4
app.get("/grade", function(req, res) {
    let grades = req.query.grades.split(",");
    for (let i = 0; i < grades.length; i++) {
        gradeBook.addGrade(parseInt(grades[i]));
    }
    res.send("Number of grades is:" + gradeBook.getGradeCount());
});

app.listen(3000);
```

### Require.js

* cosiderations
    - loads and interprits JS files when they are needed
        - can slow down performance because JS files can't be bundeled togeather to make a few large JS files (a lot of small requests will be sent if there are a lot of dependecies)
* components
    - include `require.js` as first js file
        - use `data-main` to define the base folder of the app
    - `define('[modules]', f(myFunc))`: return objects and functions that are exposed to other modules
    - `require('[modules]', f(modules))`: use to load other modules into jour JS

```html
<head>
    <script data-main="./app" src="lib/require.js"></script>
</head>
```

```javascript
//Define modules
define('[jqueery]', function($){
    return {
        getData : function(user){
            return $.getJson('myUrl' + user);
        }
    }
});

//Use modules
require('[juqery, myModule]', function($, myModule){
    myModule.getData().done(function(data){
        $('.myClass').html(data);
    });
});

```

### Design patterns

* Chained api
    - enable calling additional functions in one call (like LINQ in C#)
    - return the same object in each function so the functions can be nested

```javascript
var Calc = function(start) {
    var that = this;
    this.add = function(x) {
        start = start + x;
        return that;
    }

    this.multuply = function(x) {
        start = start * x;
        return that;
    }

    this.get = function(callback) {
        callback(start);
        return that;
    }
};

new Calc(3)
    .add(2)
    .multuply(3)
    .get(function(v) { console.log(v); });
```

* Observable props
    - function name insted of pattern
    - callbacks for changing of value
        - callback can return false if ti want's to abort the change in value

```javascript
var Book = function(name, price) {

    var priceChanged = [];

    this.price = function(newVal) {
        if (newVal !== null && newVal !== undefined) {
            price = newVal;
            for (let i = 0; i < priceChanged.length; i++) {
                if (!priceChanged[i](price, newVal)) {
                    //if callback returns false abort
                    return price;
                }
            }
        }
        return price;
    }

    this.onPriceChanged = function(callback) {
        priceChanged.push(callback);
    }
};

let book = new Book('myBook', 3);

book.onPriceChanged(function(o, n) {
    console.log("The price has changed to:" + n);
    return true;
});

console.log('Old price:' + book.price());
book.price(4);
console.log('New price:' + book.price());
```

* Timers
    - minium delay is 4ms
    - timer will not run before the function in which the timer is created finishes
    - timer can be bumped down in execution progress if there is a nother process that is waiting longer then the timer
    - `setTimeout(f, delay)`
        - executes only once
    - `setInterval(f, delay)`
        - executes continuously with secified delay
        - <b>don't</b> use if the order of execution of functions is important, use `setTimout` insted
    - asyncronouse execution
        - browser can eather update the DOM (show changed DOM to the user) or process and execute JS
            - if JS execution takes a long time page can seam as it has chashed
        - break up process in to smaller chuncks that are called periodicly so the browser can update the DOM to and show the changes to the user
            - use `setTimeout` to run the process only once
    - recursive setTimeout
        - call `setTimeout` only when previous request has finished

* Pub/Sub (Publish/Subscribe)
    - `pub(eventName, args)`
        - calling all subscribes for the event raised with the `args`
    - `sub(event, callbackFunction)`
        - add `callbackFunction` to `event` list of callbacks
        - you can call all passed events on the new subscribed callback - used for lasy loaded compnents of the page
    - `unsub(event, f)`
        - remove the callbackFunction asocieated with the passed `event` 

* Promise
    - Components:
        - Deferred
            - controls the operation
            - events raised
                - progress: chage in the progress variable
                - done: call has complated
                - failed: error has been raised
        - Promise
    - jquery promise
        - `$.when(p1, ..., pN)`
            -joins defferred objects into one deferred object
        - `$deferred.promise()`
            - returns the promise object
        - `$deferred.reject()`: set status to failed (fail callbacks will be called)
        - `$deferred.resolve()`: set status to done (done callbacks will be called)
        - `$deferred.done(f)`: done callback
        - `$deferred.fail(f)`: fail callback

### Structuring JS code

* Closures
    - variables defind when the function is declared are accessable when that function is run (eaven thow the parent function has compleated execution)
    - used to group related functions and variavles in a class like object 

```javascript
function myClosure() {
    var date = new Date();
    return function() {
        return date.getMilliseconds();
    }
};
var closure = myClosure();
console.log(closure()); //same value
console.log(closure()); //same value
```

* Protoype pattern
    - Pros:
        - modularize code into re-usable objects
        - functions loaded into memory only once
        - possible to override functions
    - implementation
        - define a constructor as a function with varaibles (using `this`)
        - define the `prototype` with functions
            - to access the variables use the `this` keyword
    - JS convention is to name objects that need to be instaced with `new` with uppercase
    - use namespaces so you don't have naming conflictions

```javascript
//Create new object or use existing object
var myNamespace = myNamespace || {};
myNamespace.Calculator = function() {
    this.value = 0;
}

myNamespace.Calculator.prototype = {
    add: function(x) {
        this.value += x
    },
    subtract: function(x) {
        this.value -= x;
    },
    result: function() {
        return this.value;
    }
};

var cal = new myNamespace.Calculator();
cal.add(3);
cal.add(3);
cal.subtract(1);
console.log(cal.result()); //5
console.log(cal.value); //5
```

* Revealing module pattern
    - pros:
        - can define private variables
    - cons:
        - each instance will have a copy of a function
        - can't be extened
    - implementation
        - define all functions and objects in the constructor and return the object containg the public functions and variables

```javascript
var myNamespace = myNamespace || {};

myNamespace.Calculator = function() {
    //private members
    var value = 0;

    var addNumbers = function(x) {
        value += x;
    };

    var subtractNumbers = function(x) {
        value -= x;
    };

    var getResult = function() {
        return value;
    };

    return {
        //public members
        add: addNumbers,
        subtract: subtractNumbers,
        result: getResult
    }
}

var cal = new myNamespace.Calculator();
cal.add(3);
cal.add(3);
cal.subtract(1);
console.log(cal.result()); //5
console.log(cal.value); //undefined
```

* Reveling prototype pattern
    - pros:
        - can be extended
        - can hide private members
        - functions only loaded once
    - implementation
        - declare variables using `this` in the constructor, define private functions in the `prototype` section and return only the functions you want to be public
        - NOTE: be carefull when calling functions from private functions in the `prototype` because they will not have the `this` from the object use `myFunc.call(this, args)` to pass this to those functions

```javascript
var myNamespace = myNamespace || {};

myNamespace.Calculator = function() {
    //state varaibles
    this.value = 0;
}

myNamespace.Calculator.prototype = function() {
    //private members
    var addNumbers = function(x) {
        this.value += x;
    };

    var subtractNumbers = function(x) {
        this.value -= x;
    };

    var getResult = function() {
        return this.value;
    };

    //public members
    return {
        add: addNumbers,
        subtract: subtractNumbers,
        result: getResult
    }
}(); //must be self envoking

var cal = new myNamespace.Calculator();
cal.add(3);
cal.add(3);
cal.subtract(1);
console.log(cal.result()); //5
console.log(cal.value); //5
```

### jQuery fundametals

* load
    - use CDN (public servers that have jQuery)
        - pros:
            - if other sites use the same jQuery from the same URL the script will be cached and will load instantainusly
            - because it is a request to a nother domain it will me called paralel to other request to your website domain
            - can have fallback
    - have fallback to local jQuery

```html
<head>
<script type="text/javascript"     src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
<script>
    window.jQuerz || document.write('<script src="myJQuery.js"><script/>')
</script>
</head>
```

* manipulate DOM
    - wait for the `DOM ready` event

```javascript
$(document).ready(function(){
    console.log('DOM ready')
});
```

* selectors
    - `$('selector')`
        - example: `$('p,a,span')`
    - selectors:
        - `:input`: find all elements that is used to input data (input,textarea, checbox, button)
        - `:contains("textToFind")`: selects html elements that have text value that contains the text passed

- ``









